/*! lozad.js - v1.16.0 - 2020-09-06
* https://github.com/ApoorvSaxena/lozad.js
* Copyright (c) 2020 Apoorv Saxena; Licensed MIT */
!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):t.lozad=e()}(this,function(){"use strict";
/**
   * Detect IE browser
   * @const {boolean}
   * @private
   */var g="undefined"!=typeof document&&document.documentMode,f={rootMargin:"0px",threshold:0,load:function(t){if("picture"===t.nodeName.toLowerCase()){var e=t.querySelector("img"),r=!1;null===e&&(e=document.createElement("img"),r=!0),g&&t.getAttribute("data-iesrc")&&(e.src=t.getAttribute("data-iesrc")),t.getAttribute("data-alt")&&(e.alt=t.getAttribute("data-alt")),r&&t.append(e)}if("video"===t.nodeName.toLowerCase()&&!t.getAttribute("data-src")&&t.children){for(var a=t.children,o=void 0,i=0;i<=a.length-1;i++)(o=a[i].getAttribute("data-src"))&&(a[i].src=o);t.load()}t.getAttribute("data-poster")&&(t.poster=t.getAttribute("data-poster")),t.getAttribute("data-src")&&(t.src=t.getAttribute("data-src")),t.getAttribute("data-srcset")&&t.setAttribute("srcset",t.getAttribute("data-srcset"));var n=",";if(t.getAttribute("data-background-delimiter")&&(n=t.getAttribute("data-background-delimiter")),t.getAttribute("data-background-image"))t.style.backgroundImage="url('"+t.getAttribute("data-background-image").split(n).join("'),url('")+"')";else if(t.getAttribute("data-background-image-set")){var d=t.getAttribute("data-background-image-set").split(n),u=d[0].substr(0,d[0].indexOf(" "))||d[0];// Substring before ... 1x
u=-1===u.indexOf("url(")?"url("+u+")":u,1===d.length?t.style.backgroundImage=u:t.setAttribute("style",(t.getAttribute("style")||"")+"background-image: "+u+"; background-image: -webkit-image-set("+d+"); background-image: image-set("+d+")")}t.getAttribute("data-toggle-class")&&t.classList.toggle(t.getAttribute("data-toggle-class"))},loaded:function(){}};function A(t){t.setAttribute("data-loaded",!0)}var m=function(t){return"true"===t.getAttribute("data-loaded")},v=function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:document;return t instanceof Element?[t]:t instanceof NodeList?t:e.querySelectorAll(t)};return function(){var r,a,o=0<arguments.length&&void 0!==arguments[0]?arguments[0]:".lozad",t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},e=Object.assign({},f,t),i=e.root,n=e.rootMargin,d=e.threshold,u=e.load,g=e.loaded,s=void 0;"undefined"!=typeof window&&window.IntersectionObserver&&(s=new IntersectionObserver((r=u,a=g,function(t,e){t.forEach(function(t){(0<t.intersectionRatio||t.isIntersecting)&&(e.unobserve(t.target),m(t.target)||(r(t.target),A(t.target),a(t.target)))})}),{root:i,rootMargin:n,threshold:d}));for(var c,l=v(o,i),b=0;b<l.length;b++)(c=l[b]).getAttribute("data-placeholder-background")&&(c.style.background=c.getAttribute("data-placeholder-background"));return{observe:function(){for(var t=v(o,i),e=0;e<t.length;e++)m(t[e])||(s?s.observe(t[e]):(u(t[e]),A(t[e]),g(t[e])))},triggerLoad:function(t){m(t)||(u(t),A(t),g(t))},observer:s}}});

function initSocket(t){var r={_this:t,ws:null,urls:wsURL.split("|"),activeURL:-1,connected:!1,connectTM:null,reconnectFn:null,pingTM:null,ready:!1,calls:{},counter:0,connectPromise:null,connect:function(){return this.connectPromise||(this.connectPromise=promise(this._this)),this.connected?(this.connectPromise.resolve(),this.connectPromise=null):(this.counter=0,this.activeURL=this.activeURL+1==this.urls.length?0:this.activeURL+1,this.ws=new WebSocket(this.urls[this.activeURL]+"?deviceId="+deviceId+"&appVersion="+appVersion+"&trackingSession="+tSID),this.connectTM=setTimeout(r.reconnect,5e3),this.ws.addEventListener("open",function(){this.connected=!0,r.connectTM&&clearTimeout(r.connectTM),r.pingTM&&clearInterval(this.pingTM),r.pingTM=setInterval(r.sendPing,3e4),r.connectPromise.resolve(),r.connectPromise=null}),this.ws.addEventListener("message",r.message),this.ws.addEventListener("error",r.error),this.ws.addEventListener("close",r.reconnect)),this.connectPromise},disconnect:function(){this.connectTM&&clearTimeout(this.connectTM),this.pingTM&&clearInterval(this.pingTM),this.connected=!1,this.ws.removeEventListener("message",r.message),this.ws.removeEventListener("error",r.error),this.ws.removeEventListener("close",r.reconnect);try{this.ws.close()}catch(e){}},setReconnectFn:function(e){r.reconnectFn=e},error:function(){r.reconnect()},reconnect:function(){r.disconnect(),r.reconnectFn?setTimeout(function(){r.connect().then(r.reconnectFn)},1500):setTimeout(r.connect,1500)},sendPing:function(){r.send("ping")},send:function(e,t){var r=promise(this._this);return 1===this.ws.readyState?(t=t||{},this.counter++,this.calls[this.counter]=[r,t,e],this.ws.send(JSON.stringify({destination:e,correlationId:this.counter,randomRequestUuid:generateNewUUID(),payload:t})),0<appVersion.indexOf(".website.test")&&console.log(("<< %c"+e+"["+this.counter+"]").padEnd(40),"font-weight:bold; color:#133d8b;",t)):r.reject("CONNECTION_ERROR"),r},eventsMap:{"user.statusChangedEvent":"statusChanged","user.jurisdictions.addedEvent":"jurisdictionAdded","user.jurisdiction.changedEvent":"jurisdictionChanged","user.registrationForm.submittedEvent":"formSubmitted","user.email.confirmedEvent":"emailConfirmed","account.balanceChangedEvent":"balanceChange","trading.riskCheck.marginEvent":"marginChange","user.registrationFlowTypeChangedEvent":"updateRegFlow","user.registrationForm.updatedEvent":"updateRegForm","user.personalDetails.updatedEvent":"updatePersonalDetails","user.termsAndConditions.confirmedEvent":"tcConfirmed","user.termsAndConditions.versionCheckEvent":"termsCheck","user.professional.profile.status.changed":"proStatusChanged","instrument.statusChangedEvent":"instrumentStatusChanged","user.verification.regMail.rejected":"poaRejected","user.verification.regMail.requested":"poaRequested","user.verification.regMail.submitted":"poaSubmitted","user.documentUploadedEvent":"docUploaded","user.documentRejectedEvent":"docRejected","user.documentRejectedEvent.v2":"docRejectedv2","user.documentApprovedEvent":"docApproved","account.createdEvent":"finAccountCreated","user.jurisdictions.registrationStatusEvent":"registrationStatus","user.proof.request.updatedEvent":"proofRequestChanged"},message:function(e){try{e.data instanceof Blob?unLZ4(r,e.data):e=JSON.parse(e.data),r.calls[e.correlationId]?(e.payload.errorCode?(r.calls[e.correlationId][0].reject(e.payload.errorCode,r.calls[e.correlationId][1],e.payload),"INVALID_SESSION"!=e.payload.errorCode&&"UNDER_MAINTENANCE"!=e.payload.errorCode&&"UNAUTHORIZED"!=e.payload.errorCode||t.unauthorize(e.payload.errorCode)):r.calls[e.correlationId][0].resolve(e.payload,r.calls[e.correlationId][1]),0<appVersion.indexOf(".website.test")&&e.payload&&console.log((">> %c"+r.calls[e.correlationId][2]+"["+e.correlationId+"]").padEnd(40),"font-weight:bold; color:#1d4717;",e.payload)):(t[r.eventsMap[e.destination]]&&t[r.eventsMap[e.destination]](e.payload),t[r.eventsMap[e.destination]+"Local"]&&t[r.eventsMap[e.destination]+"Local"](e.payload),0<appVersion.indexOf(".website.test")&&e.payload&&console.log((">> %c"+e.destination).padEnd(40),"font-weight:bold; color:#471e14;",e.payload))}catch(e){console.log(e)}}};return r}var LZ4Loaded,Buffer,LZ4;function loadListener(i){return function(e){var t=e.target.result,r=new DataView(t,0,4).getInt32(0),n=new Buffer(t.slice(4)),o=new Buffer(r),s=LZ4.decodeBlock(n,o);i.message({data:""+o.slice(0,s)})}}function unLZ4(e,t){if(LZ4Loaded){var r=new FileReader;r.addEventListener("load",loadListener(e)),r.readAsArrayBuffer(t)}else $.ajax({cache:!0,url:"/js/vendor/lz4.min.js",dataType:"script",success:function(){Buffer=window.require("buffer").Buffer,LZ4=window.require("lz4"),LZ4Loaded=!0,unLZ4(e,t)}})}function APICall(o,s,e){var i=promise(),a={"Device-Id":deviceId,"App-Version":appVersion,"Tracking-Session-Id":tSID};return e&&(a["Session-Token"]=e),window.XMLHttpRequest&&window.cpXHRo&&(window.XMLHttpRequest.prototype.open=cpXHRo,window.XMLHttpRequest.prototype.send=cpXHRs),$.ajax({url:pURL+"/v1/api/"+o,type:"POST",headers:a,data:JSON.stringify(s||{}),dataType:"json",contentType:"application/json; charset=utf-8",success:function(e){i.resolve(e)},error:function(e,t){var r="HZ";if(e){if(e.responseJSON&&e.responseJSON.errorCode)r=e.responseJSON.errorCode;else try{r=JSON.parse(e.responseText).errorCode}catch(e){}e.status&&(t+=" "+e.status)}else e={};if("BAD_REQUEST"==r&&(r="HZ"),r&&"HZ"!=r)i.reject(r,t);else{var n="proxy|"+o+"|"+e.readyState+"|"+e.status+"|"+e.statusText+"|"+deviceId+"|"+(299<+e.status?"":e.responseText);$.post("/service",{mode:"jslog",type:"apierror",msg:n,url:document.location.href}),$.ajax({url:"/proxy/v1/api/"+o,type:"POST",headers:a,data:JSON.stringify(s||{}),dataType:"json",contentType:"application/json; charset=utf-8",success:function(e){i.resolve(e),$.post("/service",{mode:"jslog",type:"apierror",msg:"siteok-"+n,url:document.location.href})},error:function(e,t){var r="HZ";if(e){if(e.responseJSON&&e.responseJSON.errorCode)r=e.responseJSON.errorCode;else try{r=JSON.parse(e.responseText).errorCode}catch(e){}e.status&&(t+=" "+e.status)}else e={};if("BAD_REQUEST"==r&&(r="HZ"),r&&"HZ"!=r)i.reject(r,t),$.post("/service",{mode:"jslog",type:"apierror",msg:"siteok-"+o+"|"+r+"|"+t,url:document.location.href});else{var n="site|"+o+"|"+e.readyState+"|"+e.status+"|"+e.statusText+"|"+deviceId+"|"+(299<+e.status?"":e.responseText);$.post("/service",{mode:"jslog",type:"apierror",msg:n,url:document.location.href}).done(function(e){i.reject(r,t+" "+e)}).fail(function(){i.reject(r,t)})}}})}}}),i}function APIPaymentCall(o,e,t){var s=promise();return $.ajax({url:ppURL+"/gateway/v1/"+o+(t?"":"/?"+jQuery.param(e)),type:t?"POST":"GET",headers:{"Device-Id":deviceId,"App-Version":appVersion,"Session-Token":getSID(),"Tracking-Session-Id":tSID},contentType:"application/json; charset=utf-8",data:t?JSON.stringify(e||{}):null,success:function(e){s.resolve(e)},error:function(e,t){var r="HZ";if(e){if(e.responseJSON&&e.responseJSON.errorCode)r=e.responseJSON.errorCode;else try{r=JSON.parse(e.responseText).errorCode}catch(e){}e.status&&(t+=" "+e.status)}else e={};if("BAD_REQUEST"==r&&(r="HZ"),r&&"HZ"!=r)s.reject(r,t);else{var n="payment="+o+"|"+e.readyState+"|"+e.status+"|"+e.statusText+"|"+deviceId+"|"+e.responseText;$.post("/service",{mode:"jslog",type:"apierror",msg:n,url:document.location.href}).done(function(e){s.reject(r,t+" "+e)}).fail(function(){s.reject(r,t)})}}}),s}function setCookieSessionId(e,t){document.cookie="__cp_sid="+e+"; expires=Thu, 01 Jan 2025 00:00:01 UTC; path=/;",document.cookie="__cp_uid="+t+"; SameSite=None; Secure; expires=Thu, 01 Jan 2025 00:00:01 UTC; path=/;domain=.currency.com;"}function promise(t){return t=t||this,{resolve:function(){this.resolveArgs=arguments},reject:function(){this.rejectArgs=arguments},then:function(e){return this.resolveArgs?e.apply(t,this.resolveArgs):this.resolve=function(){e.apply(t,arguments)},this},catch:function(e){return this.rejectArgs?e.apply(t,this.rejectArgs):this.reject=function(){e.apply(t,arguments)},this}}}function fieldControl(e,t,r){var n=$("#"+e),o=$("input",n),s={value:"",fld:o,wrapper:n,displayErrors:!1,focused:!1,valid:!0,errors:{},validators:t,change:r,setVal:function(e){return this.fld.val(e),this.value=e,this.onChange(null,!0),s},onFocus:function(){this.wrapper.parent().addClass("active"),this.focused=!0},onBlur:function(){if(this.focused=!1,!this.valid&&!this.errors.required){if(!this.displayErrors)for(var e in this.wrapper.addClass("error"),this.wrapper.prev(".label-form").addClass("error"),this.wrapper.find(".errorText").addClass("hidden"),this.errors)if("required"!=e){this.wrapper.find(".error-"+e).removeClass("hidden");break}this.displayErrors=!0}this.value||this.wrapper.parent().removeClass("active")},onChange:function(e,t){this.displayErrors&&(this.wrapper.removeClass("error"),this.wrapper.prev(".label-form").removeClass("error"),this.displayErrors=!1),this.valid=!0,this.errors={},this.value=this.fld.val();var r=this;return this.validators.forEach(function(e){var t=e(r.value);t&&(r.valid=!1,r.errors[t]=!0)}),this.value&&this.wrapper.parent().addClass("active"),t||this.change(e),s},destroy:function(){o.off("focus blur change keyup").val(""),n.removeClass("error"),n.prev(".label-form").removeClass("error"),n.parent().removeClass("active")}};return o.on("blur",function(e){s.onBlur(e)}),o.on("focus",function(e){s.onFocus(e)}),o.on("change keyup",function(e){s.onChange(e)}),s.onChange({},!0),s}function isPassLetter(e){return-1<(""+e).search(/[a-zA-Z]/)?null:"passletter"}function isPassDigit(e){return-1<(""+e).search(/\d/)?null:"passdigit"}function isNumber(e){return/^(\d+|\d+\.\d+)$/.test(e)?null:"invalidNumber"}function isPassLength(e){return 8<=(e=""+e).length&&e.length<=100?null:"passlength"}function isPassLowLetter(e){return-1<(""+e).search(/[a-z]/)?null:"passlowletter"}function isPassUpLetter(e){return-1<(""+e).search(/[A-Z]/)?null:"passupletter"}function isPassSpecial(e){return-1<(""+e).search(/[!@#\$%\^\&*\)\(\-+=._|[\]}{'//?]/)?null:"passspecial"}function validateCustom(t){return function(e){return t(e)?null:"custom"}}function nameValidator(e){return new RegExp(/^\s*([A-Z]|[А-Я]|[Α-Ω]|[ÄÀÁÂÃÅǍĄĂÆÇĆĈČĎĐÐÈÉÊËĚĘĜĢĞĤÌÍÎÏĴĶĹĻŁĽÑŃŇÖÒÓÔÕŐØŒŔŘẞŚŜŞŠȘŤŢÞȚÜÙÚÛŰŨŲŮŴÝŸŶŹŽŻ]|'|-|–){1,140}\s*$/,"i").test(e)?null:"errsymbol"}function nameValidatorIB(e){return new RegExp(/[0-9 !@#\$%\^\&*\)\(\+=._|[\]}{",<>:;`№₴~//?]+/,"i").test(e)?"errsymbol":null}function validateCustomType(t){return function(e){return t(e)}}function isRequired(e){return e?null:"required"}function isValidEmail(e){"use strict";return/^([^\x00-\x20\x22\x28\x29\x2c\x2e\x3a-\x3c\x3e\x40\x5b-\x5d\x7f-\xff]+|\x22([^\x0d\x22\x5c\x80-\xff]|\x5c[\x00-\x7f])*\x22)(\x2e([^\x00-\x20\x22\x28\x29\x2c\x2e\x3a-\x3c\x3e\x40\x5b-\x5d\x7f-\xff]+|\x22([^\x0d\x22\x5c\x80-\xff]|\x5c[\x00-\x7f])*\x22))*\x40([^\x00-\x20\x22\x28\x29\x2c\x2e\x3a-\x3c\x3e\x40\x5b-\x5d\x7f-\xff]+|\x5b([^\x0d\x5b-\x5d\x80-\xff]|\x5c[\x00-\x7f])*\x5d)(\x2e([^\x00-\x20\x22\x28\x29\x2c\x2e\x3a-\x3c\x3e\x40\x5b-\x5d\x7f-\xff]+|\x5b([^\x0d\x5b-\x5d\x80-\xff]|\x5c[\x00-\x7f])*\x5d))*$/.test(e)&&/^\S+\@\S+\.\S+$/.test(e)?null:"email"}function isValidURL(e){"use strict";return new RegExp("^(https?:\\/\\/)?((([a-z\\d]([a-z\\d-]*[a-z\\d])*)\\.)+[a-z]{2,}|((\\d{1,3}\\.){3}\\d{1,3}))(\\:\\d+)?(\\/[-a-z\\d%_.~+]*)*(\\?[;&a-z\\d%_.~+=-]*)?(\\#[-a-z\\d_]*)?$","i").test(e)?null:"url"}function backToLastSitePage(){try{var e=(""+document.cookie).match(new RegExp("__cp_lastPage=(.+?)(;|$)"));if(e)return document.cookie="__cp_lastPage=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;",void(document.location.href=e[1])}catch(e){}document.location.href="/"+lnProp}function formatNumber(e){var t=0===(e=(+e).toFixed(2).replace(",",".")).indexOf("-")?(e=e.slice(1),"-"):"";return 12<e.length&&(e=e.slice(0,-12)+","+e.slice(-12)),9<e.length&&(e=e.slice(0,-9)+","+e.slice(-9)),6<e.length&&(e=e.slice(0,-6)+","+e.slice(-6)),t+e}var sha256=function e(t){function r(e,t){return e>>>t|e<<32-t}for(var n,o,s=Math.pow,i=s(2,32),a="length",c="",u=[],d=8*t[a],l=e.h=e.h||[],f=e.k=e.k||[],p=f[a],h={},v=2;p<64;v++)if(!h[v]){for(n=0;n<313;n+=v)h[n]=v;l[p]=s(v,.5)*i|0,f[p++]=s(v,1/3)*i|0}for(t+="";t[a]%64-56;)t+="\0";for(n=0;n<t[a];n++){if((o=t.charCodeAt(n))>>8)return;u[n>>2]|=o<<(3-n)%4*8}for(u[u[a]]=d/i|0,u[u[a]]=d,o=0;o<u[a];){var g=u.slice(o,o+=16),x=l;for(l=l.slice(0,8),n=0;n<64;n++){var m=g[n-15],y=g[n-2],w=l[0],T=l[4],C=l[7]+(r(T,6)^r(T,11)^r(T,25))+(T&l[5]^~T&l[6])+f[n]+(g[n]=n<16?g[n]:g[n-16]+(r(m,7)^r(m,18)^m>>>3)+g[n-7]+(r(y,17)^r(y,19)^y>>>10)|0);(l=[C+((r(w,2)^r(w,13)^r(w,22))+(w&l[1]^w&l[2]^l[1]&l[2]))|0].concat(l))[4]=l[4]+C|0}for(n=0;n<8;n++)l[n]=l[n]+x[n]|0}for(n=0;n<8;n++)for(o=3;o+1;o--){var E=l[n]>>8*o&255;c+=(E<16?0:"")+E.toString(16)}return c};function utf8_encode(e){if(null==e)return"";var t,r,n,o=e+"",s="";t=r=0,n=o.length;for(var i=0;i<n;i++){var a=o.charCodeAt(i),c=null;if(a<128)r++;else if(127<a&&a<2048)c=String.fromCharCode(a>>6|192,63&a|128);else if(55296!=(63488&a))c=String.fromCharCode(a>>12|224,a>>6&63|128,63&a|128);else{if(55296!=(64512&a))throw new RangeError("Unmatched trail surrogate at "+i);var u=o.charCodeAt(++i);if(56320!=(64512&u))throw new RangeError("Unmatched lead surrogate at "+(i-1));a=((1023&a)<<10)+(1023&u)+65536,c=String.fromCharCode(a>>18|240,a>>12&63|128,a>>6&63|128,63&a|128)}null!==c&&(t<r&&(s+=o.slice(t,r)),s+=c,t=r=i+1)}return t<r&&(s+=o.slice(t,n)),s}function md5(e){e=e.toLowerCase();function a(e,t){return e<<t|e>>>32-t}function c(e,t){var r,n,o,s,i;return o=2147483648&e,s=2147483648&t,i=(1073741823&e)+(1073741823&t),(r=1073741824&e)&(n=1073741824&t)?2147483648^i^o^s:r|n?1073741824&i?3221225472^i^o^s:1073741824^i^o^s:i^o^s}function t(e,t,r,n,o,s,i){return e=c(e,c(c(t&r|~t&n,o),i)),c(a(e,s),t)}function r(e,t,r,n,o,s,i){return e=c(e,c(c(t&n|r&~n,o),i)),c(a(e,s),t)}function n(e,t,r,n,o,s,i){return e=c(e,c(c(t^r^n,o),i)),c(a(e,s),t)}function o(e,t,r,n,o,s,i){return e=c(e,c(c(r^(t|~n),o),i)),c(a(e,s),t)}function s(e){var t,r="",n="";for(t=0;t<=3;t++)r+=(n="0"+(e>>>8*t&255).toString(16)).substr(n.length-2,2);return r}var i,u,d,l,f,p,h,v,g,x,m;for(v=1732584193,g=4023233417,x=2562383102,m=271733878,i=(u=function(e){for(var t,r=e.length,n=r+8,o=16*((n-n%64)/64+1),s=new Array(o-1),i=0,a=0;a<r;)i=a%4*8,s[t=(a-a%4)/4]=s[t]|e.charCodeAt(a)<<i,a++;return i=a%4*8,s[t=(a-a%4)/4]=s[t]|128<<i,s[o-2]=r<<3,s[o-1]=r>>>29,s}(e=utf8_encode(e))).length,d=0;d<i;d+=16)v=o(v=n(v=n(v=n(v=n(v=r(v=r(v=r(v=r(v=t(v=t(v=t(v=t(l=v,f=g,p=x,h=m,u[d+0],7,3614090360),g=t(g,x=t(x,m=t(m,v,g,x,u[d+1],12,3905402710),v,g,u[d+2],17,606105819),m,v,u[d+3],22,3250441966),x,m,u[d+4],7,4118548399),g=t(g,x=t(x,m=t(m,v,g,x,u[d+5],12,1200080426),v,g,u[d+6],17,2821735955),m,v,u[d+7],22,4249261313),x,m,u[d+8],7,1770035416),g=t(g,x=t(x,m=t(m,v,g,x,u[d+9],12,2336552879),v,g,u[d+10],17,4294925233),m,v,u[d+11],22,2304563134),x,m,u[d+12],7,1804603682),g=t(g,x=t(x,m=t(m,v,g,x,u[d+13],12,4254626195),v,g,u[d+14],17,2792965006),m,v,u[d+15],22,1236535329),x,m,u[d+1],5,4129170786),g=r(g,x=r(x,m=r(m,v,g,x,u[d+6],9,3225465664),v,g,u[d+11],14,643717713),m,v,u[d+0],20,3921069994),x,m,u[d+5],5,3593408605),g=r(g,x=r(x,m=r(m,v,g,x,u[d+10],9,38016083),v,g,u[d+15],14,3634488961),m,v,u[d+4],20,3889429448),x,m,u[d+9],5,568446438),g=r(g,x=r(x,m=r(m,v,g,x,u[d+14],9,3275163606),v,g,u[d+3],14,4107603335),m,v,u[d+8],20,1163531501),x,m,u[d+13],5,2850285829),g=r(g,x=r(x,m=r(m,v,g,x,u[d+2],9,4243563512),v,g,u[d+7],14,1735328473),m,v,u[d+12],20,2368359562),x,m,u[d+5],4,4294588738),g=n(g,x=n(x,m=n(m,v,g,x,u[d+8],11,2272392833),v,g,u[d+11],16,1839030562),m,v,u[d+14],23,4259657740),x,m,u[d+1],4,2763975236),g=n(g,x=n(x,m=n(m,v,g,x,u[d+4],11,1272893353),v,g,u[d+7],16,4139469664),m,v,u[d+10],23,3200236656),x,m,u[d+13],4,681279174),g=n(g,x=n(x,m=n(m,v,g,x,u[d+0],11,3936430074),v,g,u[d+3],16,3572445317),m,v,u[d+6],23,76029189),x,m,u[d+9],4,3654602809),g=n(g,x=n(x,m=n(m,v,g,x,u[d+12],11,3873151461),v,g,u[d+15],16,530742520),m,v,u[d+2],23,3299628645),x,m,u[d+0],6,4096336452),g=o(g=o(g=o(g=o(g,x=o(x,m=o(m,v,g,x,u[d+7],10,1126891415),v,g,u[d+14],15,2878612391),m,v,u[d+5],21,4237533241),x=o(x,m=o(m,v=o(v,g,x,m,u[d+12],6,1700485571),g,x,u[d+3],10,2399980690),v,g,u[d+10],15,4293915773),m,v,u[d+1],21,2240044497),x=o(x,m=o(m,v=o(v,g,x,m,u[d+8],6,1873313359),g,x,u[d+15],10,4264355552),v,g,u[d+6],15,2734768916),m,v,u[d+13],21,1309151649),x=o(x,m=o(m,v=o(v,g,x,m,u[d+4],6,4149444226),g,x,u[d+11],10,3174756917),v,g,u[d+2],15,718787259),m,v,u[d+9],21,3951481745),v=c(v,l),g=c(g,f),x=c(x,p),m=c(m,h);return(s(v)+s(g)+s(x)+s(m)).toLowerCase()}function byteToHex(e){return("0"+Number(e).toString(16)).slice(-2).toLowerCase()}function stringifyUUID(e){return(byteToHex(e[0])+byteToHex(e[1])+byteToHex(e[2])+byteToHex(e[3])+"-"+byteToHex(e[4])+byteToHex(e[5])+"-"+byteToHex(e[6])+byteToHex(e[7])+"-"+byteToHex(e[8])+byteToHex(e[9])+"-"+byteToHex(e[10])+byteToHex(e[11])+byteToHex(e[12])+byteToHex(e[13])+byteToHex(e[14])+byteToHex(e[15])).toLowerCase()}function f(e,t,r,n){switch(e){case 0:return t&r^~t&n;case 1:return t^r^n;case 2:return t&r^t&n^r&n;case 3:return t^r^n}}function ROTL(e,t){return e<<t|e>>>32-t}function sha1forUUID(e){var t=[1518500249,1859775393,2400959708,3395469782],r=1732584193,n=4023233417,o=2562383102,s=271733878,i=[r,n,o,s,3285377520];if("string"==typeof e){var a=unescape(encodeURIComponent(e));e=[];for(var c=0;c<a.length;++c)e.push(a.charCodeAt(c))}else Array.isArray(e)||(e=Array.prototype.slice.call(e));e.push(128);var u=e.length/4+2,d=Math.ceil(u/16),l=new Array(d);for(c=0;c<d;++c){for(var p=new Uint32Array(16),h=0;h<16;++h)p[h]=e[64*c+4*h]<<24|e[64*c+4*h+1]<<16|e[64*c+4*h+2]<<8|e[64*c+4*h+3];l[c]=p}l[d-1][14]=8*(e.length-1)/Math.pow(2,32),l[d-1][14]=Math.floor(l[d-1][14]),l[d-1][15]=8*(e.length-1)&4294967295;for(c=0;c<d;++c){for(var v=new Uint32Array(80),g=0;g<16;++g)v[g]=l[c][g];for(g=16;g<80;++g)v[g]=ROTL(v[g-3]^v[g-8]^v[g-14]^v[g-16],1);var x=i[0],m=i[1],y=i[2],w=i[3],T=i[4];for(g=0;g<80;++g){var C=Math.floor(g/20),E=ROTL(x,5)+f(C,m,y,w)+T+t[C]+v[g]>>>0;T=w,w=y,y=ROTL(m,30)>>>0,m=x,x=E}i[0]=i[0]+x>>>0,i[1]=i[1]+m>>>0,i[2]=i[2]+y>>>0,i[3]=(i[0]+r>>>0^(268435455&ROTL(i[1],16))+n>>>0^(1073741823&i[2])+o>>>0)+s>>>0,i[4]=i[4]+T>>>0}return[i[0]>>24&255,i[0]>>16&255,i[0]>>8&255,255&i[0],i[1]>>24&255,i[1]>>16&255,i[1]>>8&255,255&i[1],i[2]>>24&255,i[2]>>16&255,i[2]>>8&255,255&i[2],i[3]>>24&255,i[3]>>16&255,i[3]>>8&255,255&i[3],i[4]>>24&255,i[4]>>16&255,i[4]>>8&255,255&i[4]]}function formatV4UUID(e){return e[6]=15&e[6]|64,e[8]=63&e[8]|128,e}var uuidNonce=0;function getUUIDNonce(){return++uuidNonce}function generateNewUUID(){return stringifyUUID(formatV4UUID(sha1forUUID(Date.now()+"-"+getUUIDNonce()+"-"+Math.random())))}function cpTrack(e,t,r){var n=["Lead","AddToCart","AddPaymentInfo","CompleteRegistration","InitiateCheckout","InitiateCheckout","AddToWishlist"],o=[["account_created","AC_"],["signup","regform_completed"],["signup","email_confirmed"],["signup","doc_uploaded"],["first_deposit","first_deposit_regform"],["first_deposit","first_deposit_panel"],["deposit","deposit"],["regform","regform_"],["success_login","success_login"],["signup_page","signup_page"]];if(e<4||6<e){try{n[e]&&fbq("track",n[e])}catch(e){}if(sendGAEvent(o[e][0],e&&7!=e?o[e][1]:o[e][1]+(t||"landing")),0===e){try{VK.Retargeting.Event("account_created")}catch(e){}try{(window._tmr||(window._tmr=[])).push({id:"3202350",type:"reachGoal",goal:"account_created"})}catch(e){}}}else{try{fbq("track",n[e],{value:t,currency:r})}catch(e){}var s={EUR:1.16,PLN:.27,GBP:1.3};sendGAEvent(o[e][0],o[e][1],""+s[r]?parseInt(t*s[r]):t),$.post("/service",{mode:"jslog",type:"deposit",msg:r+t+"|"+(s[r]?parseInt(t*s[r]):t)+(6==e?"":"|first"),url:document.location.href})}}function sendGAEvent(e,t,r){"account_created"==e&&(1==cookieGet("5_sec_test62")&&(t+="_after_test62_5sec"),1==cookieGet("learn_test62")&&(t+="_after_test62_learn"));var n={event:"siteEvent",eventCategory:e,eventAction:t};r&&(n.eventValue=r);try{dataLayer.push(n)}catch(n){}}var processedErrors={},totalErrorsCount=15;function getGetParam(e){return window.URLSearchParams?new URLSearchParams(window.location.search).get(e):(v=window.location.search.match(new RegExp("(?:^|\\&|\\?)"+e+"=([^$\\#\\&]+)")))?decodeURIComponent(v[1]):null}$(window).on("error",function(e){if(!(totalErrorsCount<0)){totalErrorsCount--;var t=e.originalEvent,r="["+t.lineno+":"+t.colno+"] "+t.filename+" | "+t.error,n=r.substr(0,200).replace(/[^a-zA-Z0-9]/g,"");processedErrors[n]=processedErrors[n]?processedErrors[n]+1:1,3<processedErrors[n]||t.filename&&t.lineno&&$.post("/service",{mode:"jslog",type:"error",msg:r,url:document.location.href})}}),Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(e){if(null==this)throw new TypeError('"this" is null or not defined');var t=Object(this),r=t.length>>>0;if("function"!=typeof e)throw new TypeError("predicate must be a function");for(var n=arguments[1],o=0;o<r;){var s=t[o];if(e.call(n,s,o,t))return s;o++}}});var gcTm,gcErr=0;window.grecaptcha={execute:function(r,n){return{then:function(e,t){window.grecallback=function(){clearTimeout(gcTm),window.grecaptcha.execute(r,n).then(e,t)},$.getScript("https://www.google.com/recaptcha/api.js?onload=grecallback&render="+r).done(function(){gcTm=setTimeout(function(){window.grecaptcha.execute(r,n).then(e,t)},4e3)}).fail(function(){10<++gcErr?t("cant load"):setTimeout(function(){window.grecaptcha.execute(r,n).then(e,t)},100)})}}}};

var loginAction,loginShow,_l,forgotAction,forgotShow,signupShow,signupExit,signipSkipInit;!function(){var i,n,o,a,l,r,c,d,h;function f(e){if("inline"!=h||e){n.email.setVal(""),n.pass.setVal(""),n.code.setVal(""),n.btn.off("click"),n.signup.off("click"),n.forgot.off("click"),n.cancel.off("click"),n.email.destroy();var s=n.email.fld.clone();if(n.email.fld.replaceWith(s),n.pass.destroy(),n={},"inline"!=h)return clearInterval(d),o.addClass("hidden"),a.addClass("hidden"),r.removeClass("hidden"),c.addClass("hidden"),$("body").removeClass("disabled-scroll-body"),o.off("keypress"),!0}}function u(e){loginAction&&loginAction("forgot",n.email.value),f(),e&&e.preventDefault&&e.preventDefault()}function e(e){loginAction&&loginAction("signup",n.email.value),f(),e&&e.preventDefault&&e.preventDefault()}function p(e){loginAction&&loginAction("cancel"),f(),e&&e.preventDefault&&e.preventDefault()}function _(){if(n.email.valid||n.email.fld.focus(),!i&&!n.btn.hasClass("disabled")){if(i=!0,!window.grecaptcha||!window.grecaptcha.execute)return void t("HZ","G1","please contact support");grecaptcha.execute("6LeZRI0UAAAAAKa37u9jL8VEFd4_OjX13WEoGLbd",{action:"login"}).then(function(e){var s={username:n.email.value,password:n.pass.value,appVersion:appVersion,deviceId:deviceId,deviceType:deviceType,osType:deviceOS,t:e};r.hasClass("hidden")&&(s.verificationCode=n.code.value),APICall("auth.login",s).then(function(e){function t(){loginAction&&loginAction("logged",n.email.value),f(!0),i=!1}logged=!0,d&&clearInterval(d),cpTrack(8),setCookieSessionId(e.sessionToken,e.userId),uEm=n.email.value;try{fbqReInit()}catch(e){}getUserLicense(),$(".l_rem",o).prop("checked")?APICall("auth.authToken.generate",{appVersion:appVersion,deviceId:deviceId},e.sessionToken).then(function(e){var s=new Date;s.setTime(s.getTime()+864e5),document.cookie="__cp_at="+e.authToken+"; expires="+s.toGMTString()+"; path=/",t()}).catch(t):t()}).catch(function(e,s){t(e,"L1",s)})},function(e){t("HZ","G1",e?(""+e).substr(0,40):"offline")})}}function t(e,s,t){switch(i=!1,n.code.value&&n.code.setVal(""),"TWO_FACTOR_AUTH_REQUIRED"==e||"VERIFICATION_FAILED"==e?(r.addClass("hidden"),c.removeClass("hidden"),n.forgot.addClass("hidden")):(c.addClass("hidden"),r.removeClass("hidden"),n.forgot.removeClass("hidden")),e){case"TWO_FACTOR_AUTH_REQUIRED":n.code.fld.focus(),g();break;case"VERIFICATION_FAILED":v(_l.gt69,_l.gt70);break;case"REACHED_MAX_FAILED_ATTEMPTS":v(_l.gt62,_l.gt58,[_l.gt36,u]);break;case"USER_NOT_FOUND":case"FIELD_VALIDATION_ERROR":case"INVALID_LOGIN_OR_PASSWORD":case"INVALID_PASSWORD":3<=++l?v(_l.gt61,"",[_l.gt36,u]):v(_l.gt61);break;case"USER_ACCOUNT_BLOCKED":0<appVersion.indexOf("ib.website")?v(_l.gt55,_l.gt694):v(_l.gt55,_l.gt56);break;case"ACCOUNT_CLOSED":case"USER_ACCOUNT_CLOSED":0<appVersion.indexOf("ib.website")?v(_l.gt55,_l.gt694):v(_l.gt55,_l.gt54);break;case"UNDER_MAINTENANCE":v(_l.gt268,_l.gt269);break;case"UNDER_MAINTENANCE_WEB":var o=_l.gt853.replace("##STORE_LINK##",oneLinkstoreUrl);v(_l.gt854,o);break;case"HZ":v(_l.gt59,_l.gt60+" ("+s+": "+t+")");break;default:v(_l.gt59,_l.gt60+" ("+s+": "+e+")")}}function g(e){return!0!==e&&a.addClass("hidden"),n.email.valid&&n.pass.valid&&(c.hasClass("hidden")||n.code.valid)?(n.btn.removeClass("disabled"),n.code.valid&&_(),!0):(n.btn.addClass("disabled"),!1)}function v(e,s,t){$(".errTitle",a).html(e||""),$(".errDescr",a).html(s||""),t?($(".errActionWrap",a).show(),$(".errAction",a).html(t[0]).off("click").on("click",t[1])):$(".errActionWrap",a).hide(),a.removeClass("hidden")}loginShow=function(s,t){t&&t.mode&&(h=t.mode),$("#l_overlay").length?t&&(t.ac||t.at)?function(e){var s={deviceId:deviceId,appVersion:appVersion};if(e.ac){var t="auth.authCode.login";s.code=e.ac}else t="auth.authToken.login",s.authToken=e.at;APICall(t,s).then(function(e){logged=!0,cpTrack(8),setCookieSessionId(e.sessionToken,e.userId),APICall("user.profile.get",{},e.sessionToken).then(function(e){uEm=e.email;try{fbqReInit()}catch(e){}loginAction&&loginAction("logged_code",e.email)})}).catch(function(e){})}(t):(o=$("#l_overlay"),a=$(".l_error",o),r=$(".step0",o),c=$(".step1",o),l=0,(n={btn:$(".l_btn",o),signup:$(".l_btn_signup",o),forgot:$(".l_btn_forgot",o),cancel:$(".l_cancel",o)}).email=fieldControl("l_f_email",[isRequired,isValidEmail],function(e){g(e)}),n.pass=fieldControl("l_f_pass",[isRequired,isPassDigit,isPassLength,isPassLetter],function(){g()}),n.code=fieldControl("l_f_code",[isRequired,validateCustom(function(e){return(e=e.replace(/\s+/,""))&&/^\d{6}$/.test(e)})],function(){g()}),n.btn.on("click",_),n.signup.on("click",e),n.forgot.on("click",u),n.cancel.on("click",p),s&&n.email.setVal(s),o.removeClass("hidden"),n.forgot.removeClass("hidden"),$("body").addClass("disabled-scroll-body"),$(".modal",o).hide().fadeIn(),setTimeout(function(){n.email.fld.focus().change()},700),o.on("keypress",function(e){"13"!=e.keyCode&&"13"!=e.which||_()}),appVersion.indexOf("ib.website")<1&&(d=setInterval(function(){n.email&&n.email.onChange&&n.email.onChange(!0)},1e3))):$.get("/"+(lnProp||"en")+"/get_template",{},function(e){$("body").append(e),loginShow(s,t)})}}(),function(){var t,o,i,n;function s(){return o.email.setVal(""),o.btn.off("click").removeClass("hidden"),o.continue.off("click"),o.cancel.off("click"),o.email.destroy(),o={},i.addClass("hidden"),n.addClass("hidden"),$(".f_sent",i).addClass("hidden"),$(".f_continue",i).addClass("hidden"),$(".f_sent p",i).text(""),$("body").removeClass("disabled-scroll-body"),i.off("keypress"),!0}function a(e){forgotAction&&forgotAction("continue",o.email.value),s(),e&&e.preventDefault&&e.preventDefault()}function l(e){s()&&forgotAction&&forgotAction("cancel"),e&&e.preventDefault&&e.preventDefault()}function r(){if(!t&&c()){if(t=!0,!window.grecaptcha||!window.grecaptcha.execute)return void processError("HZ","FG0","please contact support");grecaptcha.execute("6LeZRI0UAAAAAKa37u9jL8VEFd4_OjX13WEoGLbd",{action:"forgot"}).then(function(e){APICall("user.forgotPassword",{email:o.email.value,t:e}).then(function(e){var s;t=!1,s=uJurisdiction&&cwLicenses.includes(uJurisdiction)?_l.gt789.replace("##",o.email.value):_l.gt65.replace("##",o.email.value),$(".f_sent p",i).text(s),$(".f_sent",i).removeClass("hidden"),o.btn.addClass("hidden"),$(".f_continue",i).removeClass("hidden")}).catch(function(e){switch(t=!1,e){case"TOO_MUCH_REQUESTS":d(_l.gt57,_l.gt58);break;case"USER_ACCOUNT_BLOCKED":d(_l.gt55,_l.gt56);break;case"ACCOUNT_CLOSED":case"USER_ACCOUNT_CLOSED":d(_l.gt53,_l.gt54);break;case"UNDER_MAINTENANCE":d(_l.gt268,_l.gt269);break;case"EMAIL_NOT_FOUND":d(_l.gt63,_l.gt71);break;default:d(_l.gt59,_l.gt60)}})},function(){t=!1,d(_l.gt59,_l.gt60)})}}function c(){return n.addClass("hidden"),o.email.valid?(o.btn.prop("disabled",!1),!0):(o.btn.prop("disabled",!0),!1)}function d(e,s,t){$(".errTitle",n).html(e||""),$(".errDescr",n).html(s||""),t?($(".errActionWrap",n).show(),$(".errAction",n).html(t[0]).off("click").on("click",t[1])):$(".errActionWrap",n).hide(),n.removeClass("hidden")}forgotShow=function(e){$("#l_overlay").length?(i=$("#f_overlay"),n=$(".f_error","#f_overlay"),(o={btn:$(".f_btn",i),continue:$(".f_continue",i),cancel:$(".f_cancel",i)}).btn.on("click",r),o.continue.on("click",a),o.cancel.on("click",l),o.email=fieldControl("f_f_email",[isRequired,isValidEmail],function(){c()}),e&&o.email.setVal(e),i.removeClass("hidden"),$(".form-container-small",i).hide().fadeIn(),$("body").addClass("disabled-scroll-body"),c(),i.on("keypress",function(e){"13"!=e.keyCode&&"13"!=e.which||r()})):$.get("/"+(lnProp||"en")+"/get_template",{},function(e){$("body").append(e),forgotShow()})}}();var signupObj=function(t,i,o){var n,a,l={init:function(){if("s_overlay"!=t||$("#l_overlay").length){n=$("#"+t),$(".show-"+country+",.showtr-"+country+",.showtd-"+country+",.show-"+cpDevice).removeClass("hidden"),$(".hide-"+country+",.hidetr-"+country+",.hidetd-"+country+",.hide-"+cpDevice).addClass("hidden");var s=this;this.addItems={s2_ok0:$(".s2_ok0",n),s2_ok1:$(".s2_ok1",n),s2_ok2:$(".s2_ok2",n),s2_ok3:$(".s2_ok3",n),s2_ok4:$(".s2_ok4",n),s2_eye:$(".s2_eye",n),s2_error:$(".s_error",n),login_btn:$(".l_btn_signup",n),btn:$(".s2_btn",n),cancel:$(".s_cancel",n)},this.controls={email:fieldControl(t+"-email",[isRequired,isValidEmail],function(){s.validate()}),invite:fieldControl(t+"-invite",[],function(){s.validate()}),pass:fieldControl(t+"-pass",[isRequired,isPassDigit,isPassLength,isPassLowLetter,isPassUpLetter,isPassSpecial],function(){s.validate()})},this.addItems.s2_eye.on("click",function(){var e=$(this);e.hasClass("sprite4-pass-hide")?(e.removeClass("sprite4-pass-hide").addClass("sprite4-pass-show"),s.controls.pass.fld.attr("type","password")):(e.removeClass("sprite4-pass-show").addClass("sprite4-pass-hide"),s.controls.pass.fld.attr("type","text"))});var e=(""+window.location.href).match(new RegExp("(^|&|\\?)code=([-a-zA-Z0-9_]+)($|&)"));e&&this.controls.invite.setVal(e[2]),this.controls.pass.fld.on("focus",function(){var e=$(this).closest(".control-form");e.hasClass("error")&&(e.next(".password-list--simple").show(),setTimeout(function(){e.next(".password-list--simple").hide()},3200)),s.controls.pass.valid||s.controls.pass.fld.next(".control-hint-wrapper").css("max-height","500px")}).on("blur",function(){s.controls.pass.fld.next(".control-hint-wrapper").css("max-height","0")}),this.controls.pass.setVal(""),this.addItems.btn.on("click",function(e){e.preventDefault(),s.submit()}),this.addItems.login_btn.on("click",function(e){e.preventDefault(),s.destroy(),loginShow()}),this.addItems.cancel.on("click",function(e){e.preventDefault(),s.destroy()}),n.on("keypress",function(e){"13"!=e.keyCode&&"13"!=e.which||(e.preventDefault(),s.submit())}),n.removeClass("hidden"),"s_overlay"==t&&($(".form-container-small",n).hide().fadeIn(),$("body").addClass("disabled-scroll-body")),$(".note._delay").hover(function(){$(this).addClass("active")},function(){var e=$(this);setTimeout(function(){e.removeClass("active")},3300)}),this.validate()}else $.get("/"+(lnProp||"en")+"/get_template",{},function(e){$("body").append(e),l.init()})},destroy:function(){"s_overlay"==t&&(this.controls.email.setVal(""),this.controls.pass.setVal(""),this.controls.invite.setVal(""),this.controls.email.destroy(),this.controls.pass.destroy(),this.controls.invite.destroy(),this.addItems.btn.off("click"),this.addItems.login_btn.off("click"),this.addItems.s2_eye.off("click"),$(n).off("keypress"),n.addClass("hidden"),this.addItems.s2_error.addClass("hidden"),$("body").removeClass("disabled-scroll-body"))},lock:function(e){this.locked=!0,this.addItems.btn.removeClass("disabled hasPointer progress").addClass(e||"disabled")},unlock:function(){this.locked=!1,this.addItems.btn.removeClass("disabled hasPointer progress")},API:function(e,s,t){var o=promise(l);return APICall(e,s,t).then(function(e){o.resolve(e)}).catch(function(e,s){o.reject(e,s)}),o},submit:function(){if(this.controls.email.valid?this.controls.pass.valid||this.controls.pass.fld.focus():this.controls.email.fld.focus(),!this.locked){var e,s;this.lock("progress"),e=window.Intl&&window.Intl.DateTimeFormat?Intl.DateTimeFormat().resolvedOptions().timeZone:"GMT"+(((s=(new Date).getTimezoneOffset())<0?"+":"-")+o((s=Math.abs(s))/60|0)+o(s%60));var t={username:this.controls.email.value,password:this.controls.pass.value,referralToken:this.controls.invite.value?this.controls.invite.value:null,timezone:e,locale:lnProp||"en",termsAndConditionsConfirm:!0};i&&(t.confCode=i),this.API("user.register",t).then(function(){this.email=this.controls.email.value,cpTrack(0,a),this.loginTry(!0)}).catch(function(e,s){this.processError(e,"R0",s)})}function o(e){return(e<10?"0":"")+e}},loginTry:function(s){window.grecaptcha&&window.grecaptcha.execute?grecaptcha.execute("6LeZRI0UAAAAAKa37u9jL8VEFd4_OjX13WEoGLbd",{action:"login"}).then(function(e){l.loginTry1(s,e)},function(e){l.processError("HZ","G0",e?(""+e).substr(0,40):"offline")}):l.processError("HZ","G0","please contact support")},loginTry1:function(t,e){this.API("auth.login",{username:this.controls.email.value,password:this.controls.pass.value,appVersion:appVersion,deviceId:deviceId,deviceType:deviceType,osType:deviceOS,t:e}).then(function(e){try{fbqReInit()}catch(e){}setCookieSessionId(e.sessionToken,e.userId);var s=this;o?$.post("/service",{mode:"conf",code:o,type:t?"NEW":"EX",email:this.controls.email.value,d:deviceId,r:""+document.referrer},function(){logged=!0,s.destroy(),signupExit("new")}):(logged=!0,s.destroy(),signupExit("new"))}).catch(function(e,s){this.processError(e,"L0",s)})},validate:function(){this.addItems.s2_error.addClass("hidden"),this.controls.pass.errors.passlength?this.addItems.s2_ok0.removeClass("active"):this.addItems.s2_ok0.addClass("active"),this.controls.pass.errors.passdigit?this.addItems.s2_ok1.removeClass("active"):this.addItems.s2_ok1.addClass("active"),this.controls.pass.errors.passlowletter?this.addItems.s2_ok2.removeClass("active"):this.addItems.s2_ok2.addClass("active"),this.controls.pass.errors.passupletter?this.addItems.s2_ok3.removeClass("active"):this.addItems.s2_ok3.addClass("active"),this.controls.pass.errors.passspecial?this.addItems.s2_ok4.removeClass("active"):this.addItems.s2_ok4.addClass("active"),this.controls.pass.valid?this.controls.pass.fld.next(".control-hint-wrapper").css("max-height","0"):this.controls.pass.focused&&this.controls.pass.fld.next(".control-hint-wrapper").css("max-height","500px"),this.controls.email.valid&&this.controls.pass.valid&&this.controls.invite.valid?this.unlock():this.lock("disabled hasPointer")},processError:function(e,s,t){if(this.unlock(),"USER_ALREADY_EXISTS"==e||"INVALID_PASSWORD"==e||"INVALID_LOGIN_OR_PASSWORD"==e)this.showError(_l.gt64,_l.gt72),$(".errDescr",this.addItems.s2_error).find("A").on("click",function(e){return loginShow(l.controls.email.value),l.destroy(),e.preventDefault(),!1});else if("REACHED_MAX_FAILED_ATTEMPTS"==e)this.showError(_l.gt62,_l.gt58);else if("USER_ACCOUNT_CLOSED"==e)this.showError(_l.gt53,_l.gt54);else if("USER_ACCOUNT_BLOCKED"==e)this.showError(_l.gt55,_l.gt56);else if("INVITE_CODE_NOT_FOUND"==e)this.showError(_l.gt248,_l.gt247);else if("UNDER_MAINTENANCE"==e)this.showError(_l.gt268,_l.gt269);else if("UNDER_MAINTENANCE_WEB"==e){var o=_l.gt853.replace("##STORE_LINK##",oneLinkstoreUrl);this.showError(_l.gt854,o)}else"HZ"==e?this.showError(_l.gt59,_l.gt60+" ("+s+": "+t+")"):"FIELD_VALIDATION_ERROR"==e?this.showError("",_l.gt44):this.showError(_l.gt59,_l.gt60+" ("+s+": "+e+")")},showError:function(e,s){$(".errTitle",this.addItems.s2_error).html(e),$(".errDescr",this.addItems.s2_error).html(s),this.addItems.s2_error.removeClass("hidden"),setTimeout(function(){l.addItems.s2_error.addClass("hidden")},8e3)}};signupShow=function(e,s){customExit=s,a=e||"homepage",logged&&"s_overlay"==t?signupExit("logged"):l.init()},signupExit=function(){customExit?customExit():"uu"==cpDevice&&$("#s_overlay_exit").length?$("#s_overlay_exit").removeClass("hidden"):document.location.href="/trading/signup/"}};signipSkipInit||signupObj("s_overlay");

var isTouch="ontouchstart"in window||0<navigator.msMaxTouchPoints;isTouch&&$("html").addClass("has-touch"),jQuery.QueryString=function(t){if(""==t)return{};for(var e={},o=0;o<t.length;++o){var a=t[o].split("=",2);2==a.length&&(e[a[0]]=decodeURIComponent(a[1].replace(/\+/g," ")))}return e}(window.location.search.substr(1).split("&"));var iqtm,allButtons=[],showButtons=[];$(document).ready(function(){var t,e=$(".contentEnd");if(e.length){var o=$(window),a=o.height(),i=1e6,s=!0;function n(t){s&&i<a+t&&(s=!1,$.post("/service",{mode:"pageRead",id:e.data("id"),ln:lnProp}))}o.on("resize",function(){a=o.height(),i=e.height()+e.position().top+100,n(0)}).resize(),o.on("scroll",function(){n(o.scrollTop())})}allButtons=getAllSBtns(),$(window).on("resize",function(){getOnResize(),checkVisible()}).resize(),$(window).on("scroll",function(){t&&clearTimeout(t),t=setTimeout(function(){allButtons.length&&checkVisible()},100)}),$(".field-form").each(function(){$(this).focusin(function(){$(this).parents(".form-group").find(".label-form").addClass("focused"),""!=$(this).val()&&$(this).addClass("typing")}),$(this).focusout(function(){$(this).parents(".form-group").find(".label-form").removeClass("focused")}),$(this).keyup(function(){""==$(this).val()&&$(this).hasClass("typing")?$(this).removeClass("typing"):""==$(this).val()||$(this).hasClass("typing")||$(this).addClass("typing")})});var r=$(".header"),c=!1;if($(".header__nav--burger").on("click",function(){var t=r;c||(c=!0,setTimeout(function(){c=!1},200),t.hasClass("open")?(t.removeClass("open"),$(".header__bg").removeClass("open"),$(this).removeClass("open"),$("body").removeClass("scroll__none")):(t.addClass("open"),$(".header__bg").addClass("open"),$(this).addClass("open"),$("body").addClass("scroll__none")),$(".header__submenu").prev().addClass("arr"))}),$(".header__nav--link").on("click",function(t){var e=$(window).width()<=1199,o=!1,a=$(this).parent().find(".header__submenu").hasClass("header__submenu");if($(this).hasClass("arr")&&(o=!0),e&&o&&!$(this).hasClass("en")){if(t.preventDefault(),!a)return!1;$(this).hasClass("open")?$(this).removeClass("open"):($(".header__nav--link").removeClass("open"),$(this).addClass("open"))}}),$(".header__bg").on("click",function(){$(this).removeClass("open"),$(".header__nav--burger").removeClass("open"),r.removeClass("open"),$("body").removeClass("scroll__none")}),window.matchMedia("only screen and (max-width: 767px)").matches&&$(".footer__nav--title").on("click",function(t){$(this).hasClass("no-sub-nav")||(t.preventDefault(),$(this).parent().hasClass("open")?($(this).parent().removeClass("open"),$(this).next(".footer__nav--list").slideUp()):($(".footer__nav--item").removeClass("open").find(".footer__nav--list").slideUp(),$(this).next(".footer__nav--list").slideDown(),$(this).parent().addClass("open")))}),$(".footer__preview--btn").on("click",function(){$(this).parent().toggleClass("show"),$(".footer__preview").hasClass("show")?($(".text-accord").fadeIn(100),$(".main__cookies, #launcher").addClass("up-block")):($(".text-accord").fadeOut(100),$(".main__cookies, #launcher").removeClass("up-block"))}),$("#scrollToTop").click(function(){$("html, body").animate({scrollTop:0},500)}),(""+document.cookie).match(new RegExp("cookieusage=1"))||($("#cookiesmsg").show(),$("#cookiesmsgbtn").on("click",function(){document.cookie="cookieusage=1; expires=Thu, 01 Jan 2025 00:00:01 UTC; path=/;",$("#cookiesmsg").hide()})),(""+document.cookie).match(new RegExp("showWidgetPromo=1"))||($(".js-wPromo").show(),$(".js-wPromoClose").on("click",function(){document.cookie="showWidgetPromo=1; max-age=86400; path=/;",$(".js-wPromo").hide()})),$("body").on("click",function(){document.cookie="cclid="+ +new Date+"; expires=Thu, 01 Jan 2025 00:00:01 UTC; path=/;domain=.currency.com;"}),window.onpageshow=function(t){t.persisted&&($("#flt_all").length&&doSearchRequest(),$("#iqf").length&&iqDoSearch())},$(".addthis_button_facebook,.addthis_button_twitter,.addthis_button_linkedin").on("click",function(t){var e,o=350,a=520,i=screen.height/2-o/2,s=screen.width/2-a/2;$(this).hasClass("addthis_button_facebook")&&(e="http://www.facebook.com/sharer.php?s=100&u="+encodeURIComponent(document.URL)),$(this).hasClass("addthis_button_linkedin")&&(e="https://www.linkedin.com/shareArticle?mini=true&url="+encodeURIComponent(document.URL)+"&title="+encodeURIComponent(document.title),a=975,o=690),$(this).hasClass("addthis_button_twitter")&&(e="http://twitter.com/intent/tweet?text="+encodeURIComponent(document.title+" "+document.URL),a=680,o=450),t.preventDefault(),window.open(e,"sharer","top="+i+",left="+s+",toolbar=0,status=0,width="+a+",height="+o)}),$(".cx_search").on("click",function(){this.classList.add("active")}),$(".cx_search input").on("blur",function(){$(this).closest(".cx_search").removeClass("active")}),$("body").on("click",function(){$(".cx_lang__wrap, .cx_toggle_btn").removeClass("active")}),$(".cx_lang__wrap").on("click",function(t){t.stopPropagation(),$(".cx_toggle_btn").removeClass("active"),$(this).toggleClass("active")}),$(".cx_toggle_btn").on("click",function(t){t.stopPropagation(),$(".cx_lang__wrap").removeClass("active"),$(this).toggleClass("active")}),$(".chevronWrap").on("click",function(t){t.preventDefault(),$(this).closest(".linkWrap").toggleClass("open")}),$(".cx_burger").on("click",function(){var t=$(this).parent(".cx_burger__wrap");t.toggleClass("active"),t.hasClass("active")?($(".cx_overlay").show(),$("body").addClass("disabled-scroll-body")):($(".cx_overlay").hide(),$("body").removeClass("disabled-scroll-body"))}),$(document).mouseup(function(t){var e=$(".cx_popup, .cx_burger");e.is(t.target)||0!==e.has(t.target).length||($(".cx_burger__wrap").removeClass("active"),$(".cx_overlay").hide(),$("body").removeClass("disabled-scroll-body"))}),(""+document.cookie).indexOf("__cp_from_es=1")<0&&"es"==country){document.cookie="__cp_from_es=1; expires="+new Date(Date.now()+12096e5).toGMTString()+"; path=/;",$("#fromSpain").removeClass("hidden");try{dataLayer.push({event:"siteEvent",eventCategory:"es_popup",eventAction:"show_popup"})}catch(t){}}if((""+document.cookie).indexOf("__cp_from_us=1")<0&&"us"==country){document.cookie="__cp_from_us=1; expires="+new Date(Date.now()+12096e5).toGMTString()+"; path=/;",$("#fromUSA").removeClass("hidden");try{dataLayer.push({event:"siteEvent",eventCategory:"us_popup",eventAction:"show_popup"})}catch(t){}}$("#es_p_close").on("click",function(){try{dataLayer.push({event:"siteEvent",eventCategory:"es_popup",eventAction:"click_close"})}catch(t){}}),$("#es_p_continue").on("click",function(){try{dataLayer.push({event:"siteEvent",eventCategory:"es_popup",eventAction:"click_continue"})}catch(t){}}),$("#es_p_capital").on("click",function(){try{dataLayer.push({event:"siteEvent",eventCategory:"es_popup",eventAction:"click_capital"})}catch(t){}}),setTimeout(function(){$(".carouselTicker__list").css("animation","")},300)}),window.lozad&&lozad(".cplzd").observe();var sTM,itypes={COM:"Commodities",IND:"Indices",SHARE:"Shares",CURRENCY:"Currency",CRYPTO:"Cryptocurrency",BOND:"Bond"};function initIQ(){$("#iqf").on("keyup change",function(){iqtm&&clearTimeout(iqtm),iqtm=setTimeout(iqDoSearch,200)}),$("#iqr").on("click",function(){$("#iqw,#iqrs,#iqnf").hide(),$("#iqf").val("")}),$("#iqrs").on("click",function(t){var e=$(t.target).parents("li");e.length&&e.data("url")&&(document.location.href=e.data("url"))})}function iqDoSearch(){$("#iqf").val()?$.post("/service",{mode:"search_p",q:$("#iqf").val(),ln:lnProp},function(t){if(t=t&&JSON.parse(t),$("#iqw").show(),$("#iqrs").hide().html(""),t&&t.length){for(var e=0;e<t.length&&e<10;e++){var o=t[e];$("#iqrs").append('<li data-url="'+o.URL+'"><div class="instrument-type">'+itypes[o.TYPE]+'</div><div class="instrument-short">'+o.SHORT_TITLE+'</div><div class="instrument-full">'+o.TITLE+"</div></li>")}$("#iqnf").hide(),$("#iqrs").show()}else $("#iqnf").slideDown()}):($("#iqw,#iqrs,#iqnf").hide(),$("#iqf").val(""))}function doSearchFlow(){$("input[type='checkbox']","#flt_all").on("change click",function(){var t=$(this);$(".label_"+t.val()).remove(),doSearch()})}$("#sfrm1").on("submit",function(t){t.preventDefault()}),initIQ();var chart,scrollOnClick=!1;function doSearch(){var t=[],e=[],o=[];$("input:checked","#flt_sec").each(function(){t.push($(this).val())}),$("input:checked","#flt_ind").each(function(){e.push($(this).val())}),$("input:checked","#flt_reg").each(function(){o.push($(this).val())});var a={sec:t.join(","),ind:e.join(","),reg:o.join(","),t:"ajax"};ajaxGetData(document.location.pathname+(iSort?"?t="+iSort:""),a,t,o),$("#flt_labels").offset().top<window.scrollY&&!scrollOnClick&&(scrollOnClick=!0,$([document.documentElement,document.body]).animate({scrollTop:$("#search_results").offset().top-110},1e3),setTimeout(function(){scrollOnClick=!1},1e3))}function ajaxGetData(t,e,o,a){$.post(t,e,function(t){$("#search_results").stop(!0,!0).html(t),livePricesSubscribe(),activateILinks(),(o.length||a.length)&&$("#search_results .pagination .ln-auto").on("click",function(t){return ajaxGetData($(this).attr("href")+(iSort?"&":"?")+"pbtn=1",e,o,a),$([document.documentElement,document.body]).animate({scrollTop:$("#search_results").offset().top-110},1e3),t.preventDefault(),!1})})}function activateILinks(){$("input:checked","#flt_all").each(function(){var t=$(this);$(".label_"+t.val()).remove(),$("#flt_labels").append('<span class="filter-item label_'+t.val()+'" ><span class="text-ellipsis">'+t.next().text()+'</span> <span class="cross-button" onclick="$(\'#ch_'+t.val()+"').prop('checked', false).change()\"></span></span>")}),$("tr.trlink").on("click",function(t){return document.location.href=$("a",this).attr("href"),t.preventDefault(),!1})}var chartType=3,chartPeriod="H1",chartPeriodMap={M1:1,M5:5,M15:15,M30:30,H1:60,H4:240,D1:1440,W1:10080},chartCache={},prevWidth=$(window).outerWidth();function initChart(o,e){window.umstelAPI&&((chart=window.umstelAPI.createChart("chartwrap")).loaded?getChartData(o,chartPeriod,200):chart.onload=function(t){(chart=t).setSettings({b:{d:chartType,e:10},g:{k:{s4:0}}}),chart.setChartHistoryLoader({loadMore:function(t,e){13===t.toString().length?t/=1e3:16===t.toString().length&&(t/=1e6),getChartData(o,chartPeriod,200,t,e)}}),getChartData(o,chartPeriod,200),$(window).on("resize",function(){var t=$(window).outerWidth();prevWidth!==t&&(chart&&chart.destroy&&chart.destroy(),initChart(o)),prevWidth=t}),e&&(chart&&chart.destroy&&chart.destroy(),initChart(o))})}function initChartHandlers(t){$(".chart-period","#chartPeriodsWrap").on("click",function(){$(".chart-period.active","#chartPeriodsWrap").removeClass("active"),chartPeriod=$(this).addClass("active").data("period"),chart&&chart.destroy&&chart.destroy(),initChart(t)})}function getChartData(t,l,e,h,d){if(["M1","M5","M15","M30","H1","H4","D1","W1"].indexOf(l)<0&&(l="H1"),chartCache[l+"_"+h]&&d)0==chartCache[l+"_"+h].time.length?d.reject():d.resolve(chartCache[l+"_"+h]);else{var o={instrumentId:t,timeframe:""+l,depth:e};h&&(o.timestamp=h);var a=pURL+"/trading/v1/quoteHistory";$.ajax({url:a,type:"POST",data:JSON.stringify(o),dataType:"json",contentType:"application/json; charset=utf-8",error:function(){$("#chartwrap").hide(),$("#chartPeriodsWrap").hide(),$("#chartConnectionErr").show()},success:function(t){if(t){$("#chartConnectionErr").hide(),$("#chartwrap").show(),$("#chartPeriodsWrap").css("display","flex");var e=[],o=[],a=[],i=[],s=[],n=[];for(var r in t.history)e.push(t.history[r].timestamp),o.push(t.history[r].open),a.push(t.history[r].high),i.push(t.history[r].low),s.push(t.history[r].close),n.push(0);var c={time:e.reverse(),high:a.reverse(),low:i.reverse(),open:o.reverse(),close:s.reverse(),volume:n.reverse()};chartCache[l+"_"+h]=c,d?0==c.time.length?d.reject():d.resolve(c):(chart.setData(c),chart.setDigits(chartDigits),chart.build(),chart.setPeriod(chartPeriodMap[""+l]),chart.changeChartMode("WEBSITE"),t.history.length&&chart.updateLiveData(t.history[0].timestamp,t.history[0].close,t.history[0].close,0))}else $("#chartwrap").hide(),$("#chartPeriodsWrap").hide(),$("#chartConnectionErr").show()}})}}var idPID,pusher,LPIds=[],LPFn={},pMode="usual";function livePricesInitPusher(){"customProd"==pMode?(pusher=new Pusher("MvtsstCbm",{enabledTransports:["ws"],wsHost:"pusher.backend.dzengi.com",disableStats:!0})).connection.strategy.transports.ws.transport.manager.livesLeft=1e6:"customTest"==pMode?(pusher=new Pusher("app_key",{enabledTransports:["ws"],wsHost:"pusher.backend.dzengi.com",disableStats:!0})).connection.strategy.transports.ws.transport.manager.livesLeft=1e6:pusher=new Pusher(pTK,{cluster:"eu",disableStats:!0})}function livePricesSubscribe(){livePricesunSubscribe(),$("[data-iid]").each(function(){var t=$(this).data("iid"),e=getUpdateFn($(this),t);LPIds.push(""+t),LPFn[t]?LPFn[t].push(e):LPFn[t]=[e],pusher.subscribe(""+t).bind("bbo",e)}),LPIds.length&&$.ajax({url:pURL+"/trading/v1/quoteCurrent",type:"POST",data:JSON.stringify({instrumentId:LPIds}),dataType:"json",contentType:"application/json; charset=utf-8",error:function(){},success:function(e){if(e)for(var o in e.quotes)LPFn[e.quotes[o].instrumentId]&&LPFn[e.quotes[o].instrumentId].forEach(function(t){t(e.quotes[o])})}})}function livePricesunSubscribe(){for(var t in LPIds)pusher.unsubscribe(""+LPIds[t]);LPIds=[],LPFn={}}function getUpdateFn(t,n){var r=$(".js-sell > .js-tableInstrumentsPrice",t),c=$(".js-buy > .js-tableInstrumentsPrice",t),l=$(".i-price-buy",t),h=$(".i-price-sell",t),d=$(".spr",t),p=t.data("dg");return function(t){var e=r.text();if(t.bid!=e&&"-"!=e&&t.bid){r.removeClass("positive-price negative-price");var o=+e>t.bid?"negative-price":"positive-price";setTimeout(function(){r.addClass(o)},30)}var a=t.bid?(+t.bid).toFixed(p):"-";r.text(a),l.text(a);e=c.text();if(t.ask!=e&&"-"!=e&&t.ask){c.removeClass("positive-price negative-price");var i=+e>t.ask?"negative-price":"positive-price";setTimeout(function(){c.addClass(i)},30)}var s=t.ask?(+t.ask).toFixed(p):"-";c.text(s),h.text(s),t.bid&&t.ask?(d.text((+t.ask-+t.bid).toFixed(p)),chart&&chart.updateLiveData&&t.ts,$(document).trigger("livePrice:"+n,{t:t.ts,y:t.bid})):d.text("-")}}appVersion,pMode="customProd";var test48_cookieName,test48_vote,loginAction,forgotAction,TimeAgo=function(){var t={inWords:function(t,e){10===t.toString().length&&(t=1e3*parseInt(t));var o="January,February,March,April,May,June,July,August,September,October,November,December".split(","),a=Math.floor((new Date-parseInt(t))/1e3);if(86400<a){var i=new Date(t),s=i.getHours(),n=i.getMinutes(),r="";if(e){var c=i.getUTCHours(),l=i.getUTCMinutes();r=(c<10?"0"+c:c)+":"+(l<10?"0"+l:l)+" (UTC), "+i.getUTCDate()+" "+o[i.getUTCMonth()]+" "+i.getUTCFullYear()}else r=(s<10?"0"+s:s)+":"+(n<10?"0"+n:n)+", "+i.getDate()+" "+o[i.getMonth()]+" "+i.getFullYear();return r}return a<120?"a minute ago":a<3600?"## minutes ago".replace("##",(a/60).toFixed(0)):a<7200?"an hour ago":"## hours ago".replace("##",(a/3600).toFixed(0))}};return t}();function goPlatformDemo(){APICall("account.create",{currency:"dBTCd",settings:{is_default:!0}},getSID()).then(function(t){document.location.href="/trading/platform?accountId="+t.accountId+"&popup=switch-to-demo"}).catch(function(t){document.location.href="/trading/platform?popup=switch-to-demo"})}function test48_setVote(){document.cookie=test48_cookieName+"="+test48_vote+"; expires="+new Date(Date.now()+864e5).toGMTString()+"; path=/;",setTimeout(location.reload(),100)}$("[data-timeago]").each(function(){var t=new Date($(this).data("timeago"));$(this).text(TimeAgo.inWords(t.getTime()))}),$("[data-timeago-articles]").each(function(){var t=new Date($(this).data("timeago-articles"));$(this).text(TimeAgo.inWords(t.getTime(),!0))}),livePricesInitPusher(),livePricesSubscribe(),window.pageReady&&window.pageReady(),window.pageReadyFN.forEach(function(t){t()}),$(".js_signup").on("click",function(t){if(uJurisdiction&&cwLicenses.includes(uJurisdiction))return t.preventDefault(),void(document.location.href=cwURL+"/signup");var e=$(this).data("demomode")?$(this).data("demomode"):null,o=$(this).data("type");o?"test-48-1-vote-bull"==o||"test-48-1-vote-bear"==o?(test48_vote=o,test48_cookieName=$(this).attr("data-cookieName"),sendGAEvent("signup_button","Click_"+o),signupShow(o,test48_setVote)):(sendGAEvent("signup_button"+(e?"_demo":""),"Click_"+o),signupShow(o,e?goPlatformDemo:null)):(sendGAEvent("signup_button","Click_btn_other"),signupShow("",e?goPlatformDemo:null)),t.preventDefault()}),$(".js_demo").on("click",function(t){t.preventDefault(),$(this).data("type")?sendGAEvent("signup_button_demo","Click_"+$(this).data("type")):sendGAEvent("signup_button_demo","Click_btn_other"),setTimeout(function(){document.location.href=t.currentTarget.href?t.currentTarget.href:$(t.currentTarget).parent().attr("href")},200)}),$("#wg_loginBtn").on("click",function(t){signupShow(),t.preventDefault()}),$(".js_login").on("click",function(t){uJurisdiction&&cwLicenses.includes(uJurisdiction)?(t.preventDefault(),document.location.href=cwURL+"/login"):(loginShow(),t.preventDefault())});var c,loc=""+window.location.href;loginAction=function(t,e){"signup"==t?signupShow():"forgot"==t?forgotShow(e||""):"logged"==t?0<loc.indexOf("go=forgot")?forgotShow():window.runUserPanel?runUserPanel(panelConfig,!0):document.location.href="/trading/platform/":"logged_code"==t&&runUserPanel(panelConfig)},forgotAction=function(t,e){loginShow(e||"")},(0<loc.indexOf("go=signup")||loc.match(new RegExp("(^|&|\\?)code=([-a-zA-Z0-9_]+)($|&)")))&&signupShow(),logged||(c=(""+document.cookie).match(new RegExp("(^| )__cp_at=([-a-zA-Z0-9]+)")))&&loginShow("",{at:c[2]});var langPP=$(".js-langspp");function cpTrackS(t){var e={imIStore:["store_investmate","store_investmate_ios"],imAStore:["store_investmate","store_investmate_android"],cpIStore:["store_capital","store_capital_ios"],cpAStore:["store_capital","store_capital_android"],imEmail:["send_link","send_link_investmate_email"],imPhone:["send_link","send_link_investmate_phone"],cpPhone:["send_link","send_link_capital_phone"],cpEmail:["send_link","send_link_capital_email"],sb_c:["smart_banner","smart_banner_close"],sb_s:["smart_banner","smart_banner_store"]};sendGAEvent(e[t][0],e[t][1])}function showSearch(){var e=$(".search__input"),t=$(".search__clear"),o=$(".search_res_wrap");$(".search__ico").on("click",function(t){t.preventDefault(),$(this).parent().addClass("open"),$(".search__input, .global-search__overlay").show().animate({opacity:1},150,function(){e.focus()}),$(".header__nav--search.open:before").show()}),$(".global-search__overlay").on("click",function(){$(this).animate({opacity:0},150),$(".search__input").animate({opacity:0},300,function(){$(".global-search__overlay").hide(),e.hide().val("").change(),t.css("display","")}),$(".header__nav--search").removeClass("open")}),t.on("click",function(){e.val("").focus().change()});var a,i,s,n,r="",c=document.querySelector("html").getAttribute("lang");e.on("keyup change",(i=function(t){!function(t){if(r!==t){if(a&&a.abort(),!t)return o.html(""),r="";r=t,a=$.post("/service",{mode:"search",qry:t,lang:c||"en"},function(t){o.html(t)})}}($(t.currentTarget).val())},s=200,function(){var t=Array.from(arguments);clearTimeout(n),n=setTimeout(function(){return n=null,i.apply(this,t)},s)})),e.on("focus",function(){var o=$(".cx_search__wrap");o.hasClass("cx_search__wrap--open")||(o.addClass("cx_search__wrap--open"),$("body").on("click",function(t){var e=$(t.target);e.hasClass("cx_search__wrap")||0<e.closest(".cx_search__wrap").length||(t.preventDefault(),$("body").off("click",arguments.callee),o.removeClass("cx_search__wrap--open"))}))})}langPP.on("click",function(t){$(t.target).hasClass("js-langspp")&&(langPP.addClass("hidden"),$("body").removeClass("disabled-scroll-body"))}),$(".close-button",langPP).on("click",function(){langPP.addClass("hidden"),$("body").removeClass("disabled-scroll-body")}),$(".langbtn").on("click",function(){langPP.removeClass("hidden"),$("body").addClass("disabled-scroll-body")}),1200<=window.innerWidth&&showSearch(),$(".language-dropdown").on("click",function(){$(".languages").toggleClass("active")});var sframe=$("#sframe"),swrap=$("#swrap");$(".webchat").on("click",function(t){t.preventDefault(),swrap.removeClass("hidden")}),$("#sclose").on("click",function(){swrap.addClass("hidden")}),swrap.on("click",function(t){$(t.target).hasClass("overlay")&&swrap.addClass("hidden")}),$(".to-elem").on("click",function(t){var e=$(this);$("html, body").animate({scrollTop:$(e.data("id")).offset().top-100},1e3),t.preventDefault()}),$(".js-modal-link").on("click",function(t){var e=$(this).attr("data-target");t.preventDefault(),$("#"+e).removeClass("hidden"),$("body").addClass("disabled-scroll-body")}),$(".js-modal-close").on("click",function(t){t.preventDefault();var e=$(this).parents(".overlay");$("body").removeClass("disabled-scroll-body"),e.addClass("hidden")}),$(".qrBtn").on("click",function(t){t.preventDefault(),$("#qrwrap").removeClass("hidden")}),$("#vclose").on("click",function(){$("#qrwrap").addClass("hidden")}),$(".shareMobileTop > div, .shareDesktop > div, .shareMobileBottom > div").on("click",function(t){t.preventDefault(),t.target.closest(".copyLink")||t.target.closest(".fontLink")||($(this).toggleClass("active"),$(this).prev().removeClass("active"),$(this).next().removeClass("active"))}),$(".copyLink").on("click",function(t){t.preventDefault(),$(".copyTooltip").show(),setTimeout(function(){$(".copyTooltip").hide()},1500),setTimeout(function(){$(".shareBtn").removeClass("active")},1800)}),$(".fontLink").on("click",function(t){t.preventDefault(),$(".fontLink").removeClass("active"),$(this).addClass("active");var e=$(".shareDropdown__optionName",this).text().toLowerCase();$(".inner-content").attr("data-font-size",e),$(".fontBtn").removeClass("active")});var initChartPluginsDone=!1;function initChartPlugins(){var a=Chart.controllers.line;Chart.defaults.mytype_dark=Chart.defaults.line,Chart.controllers.mytype_dark=Chart.controllers.line.extend({draw:function(t){a.prototype.draw.apply(this,arguments);var e=this.chart.chart.ctx;if(!e.strokeAdded){var o=e.stroke;e.stroke=function(){e.save(),e.shadowColor="rgba(50, 50, 50, 0.8)",e.shadowBlur=4,e.shadowOffsetX=0,e.shadowOffsetY=3,o.apply(this,arguments),e.restore()},e.strokeAdded=1}}}),Chart.defaults.mytype_light=Chart.defaults.line,Chart.controllers.mytype_light=Chart.controllers.line.extend({draw:function(t){a.prototype.draw.apply(this,arguments);var e=this.chart.chart.ctx;if(!e.strokeAdded){var o=e.stroke;e.stroke=function(){e.save(),e.shadowColor="rgba(0, 196, 107, 0.8)",e.shadowBlur=8,e.shadowOffsetX=0,e.shadowOffsetY=7,o.apply(this,arguments),e.restore()},e.strokeAdded=1}}}),initChartPluginsDone=!0}function createChart(t,e){var o="light",a=window.matchMedia("only screen and (max-width: 767px)");e&&("dark"!=e.theme&&"white"!=e.theme||(o=e.theme)),initChartPluginsDone||initChartPlugins();var i={light:{cfg:{type:"mytype_light",datasets:{backgroundColor:"#00C46B",borderColor:"#00C46B",pointHoverBorderWidth:0,fill:!0,lineTension:0,borderWidth:2},xAxes_ticks:{fontColor:"#8a8b93"},yAxes:{display:!0},yAxes_gridLines:{borderDash:[3,10]},yAxes_ticks:{fontColor:"#4C4C4E"}},shadow:{shadowColorStop0:"rgba(0, 196, 107, 0.2)",shadowColorStop1:"rgba(0, 196, 107, 0)"}},dark:{cfg:{type:"mytype_dark",datasets:{backgroundColor:"#4C4C4E",borderColor:"#AAAAAA",pointHoverBackgroundColor:"#eee",fill:!0,lineTension:0,borderWidth:1.5},xAxes_ticks:{fontColor:"#AAAAAA"},yAxes:{display:!0},yAxes_gridLines:{lineWidth:1.5,color:"rgba(100, 100, 100, 0.5)",borderDash:[10,0]},yAxes_ticks:{fontColor:"#AAAAAA"}},shadow:{shadowColorStop0:"rgba(170, 170, 170, 0.2)",shadowColorStop1:"rgba(50, 50, 50, 0)"}},white:{cfg:{type:"line",datasets:{backgroundColor:"#ffffff",borderColor:"#4C4C4E",pointHoverBackgroundColor:"#000",borderWidth:2},xAxes_ticks:{fontColor:"#767779"},yAxes:{display:!1},yAxes_ticks:{fontColor:"#767779"}}}},s="string"==typeof t?document.getElementById(t):t,n={chart:null,timeframe:"H1",priceSource:!(!e||!e.priceSource)&&e.priceSource,canvas:s,cfg:null,cfgShadow:i[o].shadow,lastValueTooltip:$('<div class="chjs-tp last hidden '+o+'"></div>'),lastValueTooltipLine:$('<div class="chjs-lx last hidden '+o+'"></div>'),chartToolip:$('<div class="chjs-tp chjs-tp-all  '+o+'"></div>'),chartToolipDt:$('<div class="chjs-tp hor chjs-tp-all  '+o+'"></div>'),chartToolipX:$('<div class="chjs-lx chjs-tp-all  '+o+'"></div>'),chartToolipY:$('<div class="chjs-ly chjs-tp-all  '+o+'"></div>'),chartToolipP:$('<div class="chjs-pt chjs-tp-all  '+o+'"></div>'),liveUpdateEvent:null,tpDrawFrameLastTime:0,updateTm:null,chartData:[],setMarket:function(t){this.liveUpdateEvent&&$(document).off("livePrice:"+this.proxyId,n.livePriceUpdate),this.proxyId=t,this.updateChart(),this.liveUpdateEvent=$(document).on("livePrice:"+this.proxyId,n.livePriceUpdate)},livePriceUpdate:function(t,e){100<n.chartData.length?n.chartData[n.chartData.length-1]=e:n.chartData.push(e),n.drawChart()},setTimeframe:function(t){this.timeframe=t,this.updateChart()},updateChart:function(){if(this.chartData=[],this.proxyId){var t=pURL+"/trading/v1/quoteHistory",e={depth:365,instrumentId:this.proxyId,timeframe:this.timeframe};"ASK"==this.priceSource&&(e.source="ASK"),$.ajax({url:t,type:"POST",data:JSON.stringify(e),dataType:"json",contentType:"application/json; charset=utf-8",error:function(){},success:this.fillChartData.bind(this)})}},fillChartData:function(t){t&&t.history&&(this.chartData=t.history.map(function(t){return{t:1e3*t.timestamp,y:t.close}}).reverse(),this.drawChart(),this.updateTm&&clearTimeout(this.updateTm),this.updateTm=setTimeout(this.updateChart.bind(this),12e4))},drawChart:function(){"D1"==this.timeframe||"W1"==this.timeframe||this.timeframe;var t={M1:["hour","ll HH:mm"],M3:["hour","ll HH:mm"],M5:["hour","ll HH:mm"],M10:["hour","ll HH:mm"],M15:["hour","ll HH:mm"],M30:["day","ll HH:mm"],H1:["day","ll HH:mm"],H4:["day","ll HH:mm"],D1:["month","ll"],W1:["month","ll"],MN:["month","ll"]};this.chart?(this.chart.options.scales.xAxes[0].time.unit=t[this.timeframe][0],this.chart.options.scales.xAxes[0].time.tooltipFormat=t[this.timeframe][1],this.chart.data.datasets[0].data=this.chartData,this.chart.update()):(this.cfg.options.scales.xAxes[0].time.unit=t[this.timeframe][0],this.cfg.options.scales.xAxes[0].time.tooltipFormat=t[this.timeframe][1],this.cfg.data.datasets[0].data=this.chartData,this.initChart()),this.drawLastValue()},drawLastValue:function(){if(this.cfg.data.datasets[0].data&&this.cfg.data.datasets[0].data.length){var t=this.cfg.data.datasets[0].data.length-1,e=this.chart.controller.getDatasetMeta(0);this.lastValueTooltip.text(this.cfg.data.datasets[0].data[t].y).css({left:this.chart.chartArea.right+7,top:this.chart.canvas.offsetTop+e.data[t]._model.y-7}).removeClass("hidden"),this.lastValueTooltipLine.css({left:this.chart.chartArea.left,top:this.chart.canvas.offsetTop+e.data[t]._model.y-1,width:this.chart.chartArea.right-this.chart.chartArea.left}).removeClass("hidden"),a.matches&&(this.lastValueTooltip.css({left:"auto",right:0}),this.lastValueTooltipLine.attr({style:"width: "+this.lastValueTooltip.width()+"px"}))}},initChart:function(){if(this.cfgShadow){var t=this.canvas.getContext("2d").createLinearGradient(150,0,150,$(this.canvas).parent().height());t.addColorStop(0,this.cfgShadow.shadowColorStop0),t.addColorStop(1,this.cfgShadow.shadowColorStop1),this.cfg.data.datasets[0].backgroundColor=t}this.chart=new Chart(this.canvas,this.cfg),$(this.chart.canvas.parentNode).append([this.lastValueTooltip,this.lastValueTooltipLine,this.chartToolip,this.chartToolipDt,this.chartToolipX,this.chartToolipY,this.chartToolipP])},getCustomTooltip:function(t){t&&t.dataPoints&&t.dataPoints.length&&(n.tpDrawProps={caretX:t.caretX,caretY:t.caretY,chartAreaRight:this._chart.chartArea.right,chartAreaBottom:this._chart.chartArea.bottom,canvasOffsetTop:this._chart.canvas.offsetTop,canvasOffsetLeft:this._chart.canvas.offsetLeft,tpTextY:""+t.dataPoints[0].value,tpTextX:""+t.title[0]},window.requestAnimationFrame(n.tpDrawFrame.bind(n)))},tpDrawFrame:function(){this.chartToolipX.css({width:this.tpDrawProps.chartAreaRight-this.tpDrawProps.caretX,left:this.tpDrawProps.caretX,top:this.tpDrawProps.canvasOffsetTop+this.tpDrawProps.caretY-1}),this.chartToolipY.css({height:this.tpDrawProps.chartAreaBottom-this.tpDrawProps.caretY,left:this.tpDrawProps.caretX-1,top:this.tpDrawProps.canvasOffsetTop+this.tpDrawProps.caretY}),this.chartToolipP.css({left:this.tpDrawProps.caretX-4,top:this.tpDrawProps.canvasOffsetTop+this.tpDrawProps.caretY-4}),this.chartToolip.text(this.tpDrawProps.tpTextY).css({left:this.tpDrawProps.chartAreaRight+5,top:this.tpDrawProps.canvasOffsetTop+this.tpDrawProps.caretY-7});var t=this.tpDrawProps.caretX-60;this.chartToolipDt.text(this.tpDrawProps.tpTextX).css({bottom:5,left:t<0?0:100+t>this.tpDrawProps.chartAreaRight?this.tpDrawProps.chartAreaRight-100:this.tpDrawProps.canvasOffsetLeft+t})},getChartCfg:function(t,e){var o={gridLines:{drawBorder:!1,display:!1,zeroLineWidth:0},type:"time",time:{unit:"day",tooltipFormat:"ll HH:mm",displayFormats:{hour:"MMM D, HH:mm",day:"MMM DD",month:"MMM YYYY"}},distribution:"series",ticks:{source:"data",autoSkip:!0,autoSkipPadding:20,padding:0,minRotation:0,maxRotation:0}},a={gridLines:{drawBorder:!1,drawTicks:!1,zeroLineWidth:0},ticks:{padding:7},position:"right",scaleLabel:{display:!1}};return o.ticks=$.extend(o.ticks,e.xAxes_ticks),a.ticks=$.extend(a.ticks,e.yAxes_ticks),e.yAxes.display?(a.display=!0,a.gridLines=$.extend(a.gridLines,e.yAxes_gridLines)):(a.display=!1,delete a.gridLines),{type:e.type,data:{datasets:[$.extend({data:[],pointRadius:0,pointBorderWidth:0,pointHoverRadius:0},e.datasets)]},options:{maintainAspectRatio:!1,responsive:!0,tooltips:{enabled:!1,position:"nearest",mode:"x",intersect:!1,custom:n.getCustomTooltip},hover:{mode:"x",intersect:!1},scales:{xAxes:[o],yAxes:[a]},legend:{display:!1}}}},fillChartCfg:function(){var t=i[o];this.cfg=this.getChartCfg(t.type,t.cfg)}};return n.fillChartCfg(),n}var addGet="";(code=window.location.href.match(new RegExp("(^|&|\\?)code=(.+?)($|&)")))&&(addGet+="&code="+code[2]);var code,kid=window.location.href.match(new RegExp("(^|&|\\?)kid=(.+?)($|&)"));function getOnResize(){if(!allButtons.length)return allButtons;for(var t=0;t<allButtons.length;t++){var e=$('[data-type="'+allButtons[t].data_type+'"]');e.length&&(allButtons[t].y=getOffset(e[0]))}}function checkVisible(){for(var t=0;t<allButtons.length;t++){var e=allButtons[t];showButtons.filter(function(t){return e.data_type==t.data_type}).length||(window.scrollY<=window.innerHeight?e.y<=window.innerHeight&&showButtons.push(e):e.y<=window.scrollY+window.innerHeight&&showButtons.push(e))}for(t=0;t<showButtons.length;t++){(e=showButtons[t]).send||(o(e),showButtons[t].send=!0,allButtons=allButtons.filter(function(t){return e.data_type!=t.data_type}))}function o(t){try{dataLayer.push({event:"siteEvent",eventCategory:"sbtn_visible",eventAction:"scroll_"+t.data_type})}catch(t){}}}function getOffset(t){return $(t).offset().top}function getAllSBtns(){var t=$(".js_signup");if(!t.length)return allButtons;var i=allButtons;return t.each(function(t,e){var o=!0;if(i.length)for(var a=0;a<allButtons.length;a++)if(allButtons[a].data_type==e.dataset.type){allButtons[a].y=getOffset(e),o=!1;break}o&&allButtons.push({data_type:e.dataset.type,y:getOffset(e),send:!1})}),allButtons}function botCheck(){var t=new RegExp("(googlebot/|Googlebot-Mobile|Googlebot-Image|Google favicon|Mediapartners-Google|bingbot|slurp|java|wget|curl|Commons-HttpClient|Python-urllib|libwww|httpunit|nutch|phpcrawl|msnbot|jyxobot|FAST-WebCrawler|FAST Enterprise Crawler|biglotron|teoma|convera|seekbot|gigablast|exabot|ngbot|ia_archiver|GingerCrawler|webmon |httrack|webcrawler|grub.org|UsineNouvelleCrawler|antibot|netresearchserver|speedy|fluffy|bibnum.bnf|findlink|msrbot|panscient|yacybot|AISearchBot|IOI|ips-agent|tagoobot|MJ12bot|dotbot|woriobot|yanga|buzzbot|mlbot|yandexbot|purebot|Linguee Bot|Voyager|CyberPatrol|voilabot|baiduspider|citeseerxbot|spbot|twengabot|postrank|turnitinbot|scribdbot|page2rss|sitebot|linkdex|Adidxbot|blekkobot|ezooms|dotbot|Mail.RU_Bot|discobot|heritrix|findthatfile|europarchive.org|NerdByNature.Bot|sistrix crawler|ahrefsbot|Aboundex|domaincrawler|wbsearchbot|summify|ccbot|edisterbot|seznambot|ec2linkfinder|gslfbot|aihitbot|intelium_bot|facebookexternalhit|yeti|RetrevoPageAnalyzer|lb-spider|sogou|lssbot|careerbot|wotbox|wocbot|ichiro|DuckDuckBot|lssrocketcrawler|drupact|webcompanycrawler|acoonbot|openindexspider|gnam gnam spider|web-archive-net.com.bot|backlinkcrawler|coccoc|integromedb|content crawler spider|toplistbot|seokicks-robot|it2media-domain-crawler|ip-web-crawler.com|siteexplorer.info|elisabot|proximic|changedetection|blexbot|arabot|WeSEE:Search|niki-bot|CrystalSemanticsBot|rogerbot|360Spider|psbot|InterfaxScanBot|Lipperhey SEO Service|CC Metadata Scaper|g00g1e.net|GrapeshotCrawler|urlappendbot|brainobot|fr-crawler|binlar|SimpleCrawler|Livelapbot|Twitterbot|cXensebot|smtbot|bnf.fr_bot|A6-Indexer|ADmantX|Facebot|Twitterbot|OrangeBot|memorybot|AdvBot|MegaIndex|SemanticScholarBot|ltx71|nerdybot|xovibot|BUbiNG|Qwantify|archive.org_bot|Applebot|TweetmemeBot|crawler4j|findxbot|SemrushBot|yoozBot|lipperhey|y!j-asr|Domain Re-Animator Bot|AddThis)","i"),e=navigator.userAgent;return!!t.test(e)}if(kid&&(addGet+="&kid="+kid[2]),(code=0<window.location.href.indexOf("pid=referral")&&window.location.href.match(new RegExp("(^|&|\\?)c=([-a-zA-Z0-9]+)($|&)")))&&(addGet+="&pid=referral&c="+code[2]),addGet&&$("#langSwitcher,.language-list").find("a").each(function(){var t=$(this).attr("href");t&&$(this).attr("href",t+"?"+addGet)}),("android"==devicePr||"iphone"==devicePr)&&!cookieGet("__cp_uid",1)){function setCloseCookie(t){var e=new Date;e.setTime(e.getTime()+864e6),cookieSet("__cp_sb_c",t,e.toGMTString())}var tbWrap=$("#mobTopBanner");function showTopBanner(){tbWrap.removeClass("hidden"),tbWrap.addClass("active")}function hideTopBanner(){tbWrap.removeClass("active"),tbWrap.addClass("hidden")}var close=cookieGet("__cp_sb_c",1),closeNum=close||!1,showBanner=!1,shown=!1;function showTopBannerScroll(){if(showBanner&&!shown){if(shown=!0,"android"==devicePr&&showTopBanner(),"iphone"==devicePr){function t(){window.innerHeight==$(window).innerHeight()?tbWrap.hasClass("active")||showTopBanner():tbWrap.hasClass("active")&&hideTopBanner()}setTimeout(t,500),$(window).on("scroll",t)}}else closeNum&&1!=closeNum&&10!=closeNum&&20!=closeNum&&setCloseCookie(closeNum-1)}closeNum&&1!=closeNum&&10!=closeNum&&20!=closeNum||(showBanner=!0),setTimeout(function(){$(window).on("scroll",showTopBannerScroll)},1e3),$("#btnCloseTopBanner").on("click",function(t){closeNum||setCloseCookie(5),1==closeNum&&setCloseCookie(15),10==closeNum&&setCloseCookie(26),20==closeNum&&setCloseCookie(40),cpTrackS("sb_c"),t.preventDefault(),hideTopBanner()}),$("#btnStoreTopBanner").on("click",function(t){setCloseCookie(closeNum<=20?26:70),cpTrackS("sb_s")})}
